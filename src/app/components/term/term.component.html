<div class="term-wrapper">
  <div class="term-left">
    <h1>{{term.name}}</h1>
    <h2>{{term.definition}}</h2>

    <div class="subject-area" *ngIf="term.subjectArea && term.subjectArea.length>0">
      <app-network class="no-mobile" [term]="term"></app-network>
      <button class="no-desktop" nz-button nzType="default" (click)="openModal()">Открыть карту</button>
    </div>

  </div>
  <div class="term-right">
    <nz-list nzSplit>
      <nz-list-item *ngFor="let attribute of term.attributes">
        <div class="attribute-name">{{attribute.attribute}}:</div>
        <div class="attribute-value">{{attribute.value}}</div>
      </nz-list-item>
    </nz-list>
  </div>
  <button nz-button *ngIf="user.role && user.role === 'STUDENT' && isMyDiscipline; else authText" (click)="editTheTerm()">Edit the term
  </button>
  <ng-template #authText>
    <p *ngIf="user.role !== 'TEACHER'">Please apply for the discipline to edit the term. Only authorized students can be accepted.</p>
  </ng-template>
</div>
<app-term-form *ngIf="termIsEditable && isMyDiscipline"
               [term]="term">
</app-term-form>

<nz-modal
  [(nzVisible)]="modalOpened"
  (nzOnCancel)="handleCancel()"
  nzFooter="null"
>
  <div *nzModalContent>
    <app-network [term]="term" [view]="[300, 400]" [showMiniMap]="false"></app-network>
  </div>
</nz-modal>

